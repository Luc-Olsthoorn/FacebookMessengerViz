{"version":3,"sources":["LineGraphMessages.js","TimeHeatMap.js","WordUsage.js","MoreDataElement.js","LandingPage.js","Card.js","App.js","index.js"],"names":["colors","timeIntervalMap","LineGraphMessages","messages","useState","data","setData","people","setPeople","timeInterval","useEffect","tempTimeStamp","sort","a","b","timestamp_ms","tempGroup","message","name","moment","format","Number","sender_name","push","peopleList","Object","keys","console","log","buildGraph","style","fontWeight","width","height","padding","syncId","margin","top","right","left","bottom","strokeDasharray","stroke","dataKey","label","color","x","y","dx","dy","offset","angle","contentStyle","backgroundColor","cursor","strokeWidth","animationDuration","fill","map","o","key","type","dot","activeDot","TimeHeatMap","dayWeekMap","max","forEach","date","dayOfTheWeek","day","timeOfDay","hour","days","num","text","textAlign","count","emojiRegex","stopWords","WordUsage","totalWordsState","setTotalWords","wordListState","setWordList","emojiListState","setEmojiList","wordsLoaded","setWordsLoaded","emojisLoaded","setEmojisLoaded","setTimeout","totalWords","wordMap","content","length","words","split","word","strippedWord","toLowerCase","replace","wordList","entries","counta","emojiList","emojiWord","utf8","decode","err","match","filter","includes","processWords","display","alignItems","overflowY","overFlowX","maxWidth","pageStart","loadMore","hasMore","loader","className","useWindow","slice","fontSize","emoji","Math","ceil","MoreDataElement","title","borderTop","paddingTop","BasicMessagingStats","averageMessagesPerDay","amountOfTimeTalking","duration","diff","humanize","amountCalled","spentTaling","reduce","call_duration","averageCallDuration","longestCall","find","LandingPage","setAllMessages","value","setValue","ref","useRef","handleMouseOver","handleMouseOut","node","current","addEventListener","removeEventListener","useHover","hoverRef","isHovered","setCount","total","setTotal","threads","addThread","addThreadRaw","thread","i","mergerThreadIndex","findIndex","thread_path","splice","flexDirection","justifyContent","minHeight","paddingBottom","target","href","for","transition","id","onChange","event","files","filtered","endsWith","startsWith","file","reader","FileReader","onload","result","json","JSON","parse","readAsText","importData","directory","webkitdirectory","Card","messageSplit","onClick","GenerateMessageSplitVisual","open","divider","App","allMessages","moreData","setMoreData","filteredBasicData","setFilteredBasicData","sortBy","filterBy","items","filters","setFilters","scrolled","setScrolled","divRef","scrollIntoView","behavior","border","borderWidth","borderStyle","paddingLeft","borderRadius","flexWrap","close","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.12e618af.chunk.js","sourcesContent":["import {useState, useEffect} from 'react';\nimport {LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, AreaChart, Area, Brush, ResponsiveContainer, Text} from 'recharts';\nimport moment from 'moment'\nconst colors = [\n  '#72a1e5',\n  '#eca400',\n  '#2e382e',\n  '#9883e5',\n  '#fcd3de',\n  '#f038ff',\n  '#ef709d',\n  '#e2ef70',\n  '#49111c',\n]\n\nconst buildGraph = ({messages, timeInterval})=>{\n  messages = messages.sort((a,b)=>{if(a.timestamp_ms < b.timestamp_ms) return -1; return 1;});\n  let data = [];\n  let tempTimeStamp = messages[0].timestamp_ms;\n  let tempGroup={};\n  let people = { };\n  for(let message of messages){\n    tempGroup[tempTimeStamp]=tempGroup[tempTimeStamp]||{};\n    tempGroup[tempTimeStamp].name = moment(tempTimeStamp).format('MMM YYYY');\n    if(message.timestamp_ms < (Number(tempTimeStamp) + Number(timeInterval))){\n      //normal add\n      tempGroup[tempTimeStamp][message.sender_name] = tempGroup[tempTimeStamp][message.sender_name]+1||1;\n      people[message.sender_name]=0;\n    }else{\n      //finish off the grouping\n\n\n      data.push({...people, ...tempGroup[tempTimeStamp]});\n      tempTimeStamp = tempTimeStamp+timeInterval;\n    }\n  }\n  data.push({...people, ...tempGroup[tempTimeStamp]});\n  let peopleList = Object.keys(people);\n  console.log(data);\n  return {data, peopleList};\n}\n\nconst timeIntervalMap ={\n  'Month':2592000000,\n  'Week':604800000,\n}\n\nexport default function LineGraphMessages({messages}){\n  const [data, setData] = useState([]);\n  const [people, setPeople] = useState([]);\n  const [timeInterval, setTimeInterval] = useState('Month');\n  useEffect(()=>{\n    const {peopleList, data} = buildGraph({messages:messages, timeInterval:timeIntervalMap[timeInterval]});\n    setPeople(peopleList);\n    setData(data);\n  }, [messages])\n  return (\n    <div>\n    <h3 style={{fontWeight:'300'}}>Interactions over time:</h3>\n    <ResponsiveContainer width=\"95%\" height={400}>\n      <LineChart\n        style={{padding:'1rem', fontWeight:'300'}}\n        data={data}\n        syncId=\"main\"\n        margin={{\n          top: 5, right: 30, left: 20, bottom: 5,\n        }}\n      >\n        <CartesianGrid strokeDasharray=\"3 3\" stroke='white' />\n        <XAxis dataKey=\"name\" stroke='white' />\n        <YAxis stroke='white' label={\n           <Text stroke='white' style={{color:'white'}}\n              x={0}\n              y={0}\n              dx={20}\n              dy={230}\n              offset={0}\n              angle={-90}\n           ># of interactions per month</Text>\n        }/>\n        <Tooltip contentStyle={{backgroundColor:'white', color:'black'}} cursor={{ stroke: 'white', strokeWidth: 2 }} animationDuration={30} />\n        <Legend />\n        <Brush dataKey=\"name\" data={data} fill=\"#50C9CE\" stroke='white' margin={{ top: 5, right: 30, left: 30, bottom: 5 }}>\n           <LineChart   >\n             {people.map((o,key)=>\n               <Line type=\"monotone\"  dataKey={o} strokeWidth={1} dot={false} activeDot={false} stroke={colors[key]||'black'}  />\n             )}\n           </LineChart>\n        </Brush>\n        {people.map((o,key)=>\n          <Line type=\"monotone\"  dataKey={o} strokeWidth={2} dot={false} activeDot={false} stroke={colors[key]||'black'}  />\n        )}\n      </LineChart>\n    </ResponsiveContainer>\n    </div>\n  );\n}\n","import moment from 'moment'\nexport default function TimeHeatMap ({messages}){\n  let dayWeekMap = {};\n  let max=0;\n  messages.forEach((message)=>{\n    const date = moment(message.timestamp_ms);\n    const dayOfTheWeek = date.day(); //0 is Sunday\n    const timeOfDay = date.hour();\n    dayWeekMap[dayOfTheWeek] = dayWeekMap[dayOfTheWeek] || {};\n    dayWeekMap[dayOfTheWeek][timeOfDay] = dayWeekMap[dayOfTheWeek][timeOfDay]+1 || 1;\n    if(dayWeekMap[dayOfTheWeek][timeOfDay]>max){\n      max=dayWeekMap[dayOfTheWeek][timeOfDay];\n    }\n  })\n  const days = [\n    {num:0, text:'S'},\n    {num:1, text:'M'},\n    {num:2, text:'T'},\n    {num:3, text:'W'},\n    {num:4, text:'T'},\n    {num:5, text:'F'},\n    {num:6, text:'S'},\n  ]\n  const hours = [\n    {num:0, text:'12:00 a.m.'},\n    {num:1, text:'1:00 a.m.'},\n    {num:2, text:'2:00 a.m.'},\n    {num:3, text:'3:00 a.m.'},\n    {num:4, text:'4:00 a.m.'},\n    {num:5, text:'5:00 a.m.'},\n    {num:6, text:'6:00 a.m.'},\n    {num:7, text:'7:00 a.m.'},\n    {num:8, text:'8:00 a.m.'},\n    {num:9, text:'9:00 a.m.'},\n    {num:10, text:'10:00 a.m.'},\n    {num:11, text:'11:00 a.m.'},\n    {num:12, text:'12:00 p.m.'},\n    {num:13, text:'1:00 p.m.'},\n    {num:14, text:'2:00 p.m.'},\n    {num:15, text:'3:00 p.m.'},\n    {num:16, text:'4:00 p.m.'},\n    {num:17, text:'5:00 p.m.'},\n    {num:18, text:'6:00 p.m.'},\n    {num:19, text:'7:00 p.m.'},\n    {num:20, text:'8:00 p.m.'},\n    {num:21, text:'9:00 p.m.'},\n    {num:22, text:'10:00 p.m.'},\n    {num:23, text:'11:00 p.m.'},\n\n  ]\n  return (\n    <div>\n      <h3 style={{fontWeight:'300'}}>Heatmap of Interactions</h3>\n      <table>\n        <tr>\n          <td/>\n          {days.map(day=><td style={{textAlign:'center'}}>{day.text}</td>)}\n        </tr>\n        {hours.map(hour=>\n          <tr>\n            <td>{hour.text}</td>\n            {days.map(day=>{\n              let count = 0;\n              if(dayWeekMap[day.num] && dayWeekMap[day.num][hour.num]) count = dayWeekMap[day.num][hour.num];\n              return(\n              <td style={{backgroundColor: `rgba(239, 112, 157, ${count/max})`, padding:'.5rem 1rem .5rem 1rem'}}>\n\n              </td>)\n            }\n            )}\n          </tr>\n        )}\n      </table>\n    </div>\n  )\n}\n","import {useState, useEffect} from 'react';\nimport InfiniteScroll from 'react-infinite-scroller';\nimport moment from 'moment'\nimport utf8 from 'utf8';\n\nconst emojiRegex = /(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\u0023-\\u0039]\\ufe0f?\\u20e3|\\u3299|\\u3297|\\u303d|\\u3030|\\u24c2|\\ud83c[\\udd70-\\udd71]|\\ud83c[\\udd7e-\\udd7f]|\\ud83c\\udd8e|\\ud83c[\\udd91-\\udd9a]|\\ud83c[\\udde6-\\uddff]|\\ud83c[\\ude01-\\ude02]|\\ud83c\\ude1a|\\ud83c\\ude2f|\\ud83c[\\ude32-\\ude3a]|\\ud83c[\\ude50-\\ude51]|\\u203c|\\u2049|[\\u25aa-\\u25ab]|\\u25b6|\\u25c0|[\\u25fb-\\u25fe]|\\u00a9|\\u00ae|\\u2122|\\u2139|\\ud83c\\udc04|[\\u2600-\\u26FF]|\\u2b05|\\u2b06|\\u2b07|\\u2b1b|\\u2b1c|\\u2b50|\\u2b55|\\u231a|\\u231b|\\u2328|\\u23cf|[\\u23e9-\\u23f3]|[\\u23f8-\\u23fa]|\\ud83c\\udccf|\\u2934|\\u2935|[\\u2190-\\u21ff])/g;\n\nconst stopWords = [\"a\", \"about\", \"above\", \"above\", \"across\", \"after\", \"afterwards\", \"again\", \"against\", \"all\", \"almost\", \"alone\", \"along\", \"already\", \"also\",\"although\",\"always\",\"am\",\"among\", \"amongst\", \"amoungst\", \"amount\",  \"an\", \"and\", \"another\", \"any\",\"anyhow\",\"anyone\",\"anything\",\"anyway\", \"anywhere\", \"are\", \"around\", \"as\",  \"at\", \"back\",\"be\",\"became\", \"because\",\"become\",\"becomes\", \"becoming\", \"been\", \"before\", \"beforehand\", \"behind\", \"being\", \"below\", \"beside\", \"besides\", \"between\", \"beyond\", \"bill\", \"both\", \"bottom\",\"but\", \"by\", \"call\", \"can\", \"cannot\", \"cant\", \"co\", \"con\", \"could\", \"couldnt\", \"cry\", \"de\", \"describe\", \"detail\", \"do\", \"done\", \"down\", \"due\", \"during\", \"each\", \"eg\", \"eight\", \"either\", \"eleven\",\"else\", \"elsewhere\", \"empty\", \"enough\", \"etc\", \"even\", \"ever\", \"every\", \"everyone\", \"everything\", \"everywhere\", \"except\", \"few\", \"fifteen\", \"fify\", \"fill\", \"find\", \"fire\", \"first\", \"five\", \"for\", \"former\", \"formerly\", \"forty\", \"found\", \"four\", \"from\", \"front\", \"full\", \"further\", \"get\", \"give\", \"go\", \"had\", \"has\", \"hasnt\", \"have\", \"he\", \"hence\", \"her\", \"here\", \"hereafter\", \"hereby\", \"herein\", \"hereupon\", \"hers\", \"herself\", \"him\", \"himself\", \"his\", \"how\", \"however\", \"hundred\", \"ie\", \"if\", \"in\", \"inc\", \"indeed\", \"interest\", \"into\", \"is\", \"it\", \"its\", \"itself\", \"keep\", \"last\", \"latter\", \"latterly\", \"least\", \"less\", \"ltd\", \"made\", \"many\", \"may\", \"me\", \"meanwhile\", \"might\", \"mill\", \"mine\", \"more\", \"moreover\", \"most\", \"mostly\", \"move\", \"much\", \"must\", \"my\", \"myself\", \"name\", \"namely\", \"neither\", \"never\", \"nevertheless\", \"next\", \"nine\", \"no\", \"nobody\", \"none\", \"noone\", \"nor\", \"not\", \"nothing\", \"now\", \"nowhere\", \"of\", \"off\", \"often\", \"on\", \"once\", \"one\", \"only\", \"onto\", \"or\", \"other\", \"others\", \"otherwise\", \"our\", \"ours\", \"ourselves\", \"out\", \"over\", \"own\",\"part\", \"per\", \"perhaps\", \"please\", \"put\", \"rather\", \"re\", \"same\", \"see\", \"seem\", \"seemed\", \"seeming\", \"seems\", \"serious\", \"several\", \"she\", \"should\", \"show\", \"side\", \"since\", \"sincere\", \"six\", \"sixty\", \"so\", \"some\", \"somehow\", \"someone\", \"something\", \"sometime\", \"sometimes\", \"somewhere\", \"still\", \"such\", \"system\", \"take\", \"ten\", \"than\", \"that\", \"the\", \"their\", \"them\", \"themselves\", \"then\", \"thence\", \"there\", \"thereafter\", \"thereby\", \"therefore\", \"therein\", \"thereupon\", \"these\", \"they\", \"thick\", \"thin\", \"third\", \"this\", \"those\", \"though\", \"three\", \"through\", \"throughout\", \"thru\", \"thus\", \"to\", \"together\", \"too\", \"top\", \"toward\", \"towards\", \"twelve\", \"twenty\", \"two\", \"un\", \"under\", \"until\", \"up\", \"upon\", \"us\", \"very\", \"via\", \"was\", \"we\", \"well\", \"were\", \"what\", \"whatever\", \"when\", \"whence\", \"whenever\", \"where\", \"whereafter\", \"whereas\", \"whereby\", \"wherein\", \"whereupon\", \"wherever\", \"whether\", \"which\", \"while\", \"whither\", \"who\", \"whoever\", \"whole\", \"whom\", \"whose\", \"why\", \"will\", \"with\", \"within\", \"without\", \"would\", \"yet\", \"you\", \"your\", \"yours\", \"yourself\", \"yourselves\", \"the\", \"i\", \"me\", \"my\", \"myself\", \"we\", \"our\", \"ours\", \"ourselves\", \"you\", \"your\", \"yours\", \"yourself\", \"yourselves\", \"he\", \"him\", \"his\", \"himself\", \"she\", \"her\", \"hers\", \"herself\", \"it\", \"its\", \"itself\", \"they\", \"them\", \"their\", \"theirs\", \"themselves\", \"what\", \"which\", \"who\", \"whom\", \"this\", \"that\", \"these\", \"those\", \"am\", \"is\", \"are\", \"was\", \"were\", \"be\", \"been\", \"being\", \"have\", \"has\", \"had\", \"having\", \"do\", \"does\", \"did\", \"doing\", \"a\", \"an\", \"the\", \"and\", \"but\", \"if\", \"or\", \"because\", \"as\", \"until\", \"while\", \"of\", \"at\", \"by\", \"for\", \"with\", \"about\", \"against\", \"between\", \"into\", \"through\", \"during\", \"before\", \"after\", \"above\", \"below\", \"to\", \"from\", \"up\", \"down\", \"in\", \"out\", \"on\", \"off\", \"over\", \"under\", \"again\", \"further\", \"then\", \"once\", \"here\", \"there\", \"when\", \"where\", \"why\", \"how\", \"all\", \"any\", \"both\", \"each\", \"few\", \"more\", \"most\", \"other\", \"some\", \"such\", \"no\", \"nor\", \"not\", \"only\", \"own\", \"same\", \"so\", \"than\", \"too\", \"very\", \"s\", \"t\", \"can\", \"will\", \"just\", \"don\", \"should\", \"now\", \"it's\", 'u'];\n\nconst processWords = ({messages})=>{\n  let totalChars = 0;\n  let totalWords = 0;\n  let wordMap = {};\n  messages.forEach(message=>{\n    totalChars += message.content?.length||0;\n    let words = message.content?.split(' ') || [];\n    totalWords += words.length;\n    words.forEach(word=>{\n      let strippedWord = word.toLowerCase().replace('.','').replace(',','').replace('?','');\n      if(strippedWord){\n          wordMap[strippedWord]=wordMap[strippedWord]+1||1\n      }\n    })//adds one to a word or maes new one\n  })\n  let wordList = Object.entries(wordMap);\n  wordList.sort(([worda,counta],[wordb,countb])=>{if(counta>countb)return-1; return 1});\n  let emojiList = [];\n  wordList.forEach(([word, count])=>{\n    let emojiWord=word;\n    try{\n      emojiWord = utf8.decode(word)\n    }catch(err){\n      //do nothing\n    }\n    if(emojiWord.match(emojiRegex)){\n      emojiList.push([emojiWord,count]);\n    }\n  })\n  wordList=wordList.filter(([text, count])=>!stopWords.includes(text));\n  console.log(wordList);\n  return {totalWords, wordList, emojiList}\n}\n\nexport default function WordUsage({messages}){\n  const [totalWordsState, setTotalWords] = useState(0);\n  const [wordListState, setWordList] = useState([]);\n  const [emojiListState, setEmojiList] = useState([]);\n  const [wordsLoaded, setWordsLoaded] = useState(10);\n  const [emojisLoaded, setEmojisLoaded] = useState(10);\n  useEffect(()=>{\n    setTimeout(()=>{\n      const {totalWords, wordList, emojiList} = processWords({messages});\n      setWordList(wordList);\n      setTotalWords(totalWords);\n      setEmojiList(emojiList);\n    },200)\n  }, [messages])\n\n\n  return (\n    <div style={{display:'flex', alignItems:'center'}}>\n\n      <div style={{width:'50%', padding:'1rem'}}>\n        <h3 style={{fontWeight:'300'}}>Here are your most popular words:</h3>\n        <div style={{height:'200px', width:'100%', overflowY:'auto', overFlowX:'hidden', margin:'1rem', maxWidth:'400px'}}>\n          <InfiniteScroll\n            pageStart={0}\n            loadMore={()=>{setWordsLoaded(wordsLoaded+10)}}\n            hasMore={wordsLoaded<wordListState.length}\n            loader={<div className=\"loader\" key={0}>Loading ...</div>}\n            useWindow={false}\n          >\n          {wordListState.slice(0, wordsLoaded).map(([word,count],key)=><div style={{fontSize:'1.25rem'}}>\n            {key+1}. <span style={{color:'#EF709D'}}>{word}</span>, <span style={{fontWeight:'200'}}>{count} times</span>\n          </div>)}\n          </InfiniteScroll>\n        </div>\n        <h3 style={{fontWeight:'300'}}>Here are your most popular emojis:</h3>\n        <div style={{height:'200px', width:'100%', overflowY:'auto', overFlowX:'hidden', margin:'1rem', maxWidth:'400px'}}>\n          <InfiniteScroll\n            pageStart={0}\n            loadMore={()=>{setEmojisLoaded(emojisLoaded+10)}}\n            hasMore={emojisLoaded<emojiListState.length}\n            loader={<div className=\"loader\" key={0}>Loading ...</div>}\n            useWindow={false}\n          >\n          {emojiListState.slice(0, emojisLoaded).map(([emoji,count],key)=><div style={{fontSize:'1.25rem'}}>\n            {key+1}. {emoji}, <span style={{fontWeight:'200'}}>{count} times</span>\n          </div>)}\n          </InfiniteScroll>\n        </div>\n      </div>\n      <div style={{width:'50%', padding:'1rem'}}>\n        <h3 style={{fontWeight:'300'}}>Word usage:</h3>\n        <div style={{fontSize:'2rem', fontWeight:'300'}}>\n          You have said <span style={{color:'#EF709D'}}>{totalWordsState}</span> words to each other.\n          Each message has an average length of <span style={{color:'#EF709D'}}>{Math.ceil(totalWordsState/messages.length)}</span> words.\n        </div>\n      </div>\n    </div>\n  )\n}\n","import {useState, useEffect} from 'react';\nimport LineGraphMessages from './LineGraphMessages';\nimport TimeHeatMap from './TimeHeatMap';\nimport WordUsage from './WordUsage';\nimport moment from 'moment'\n\nexport default function MoreDataElement({data}){\n  return (\n    <div style={{width:'50%', backgroundColor:'#50C9CE', color:'white', height:'100vh', overflowY:'auto'}}>\n      <div style={{padding:'2rem'}}>\n        <h1 style={{padding:'1rem', fontWeight:'100', textAlign:'center', fontSize:'3rem'}}>Stats for {data.title}:</h1>\n        <hr style={{borderTop: '1px solid white'}}/>\n        {data?.messages?(\n          <>\n          <LineGraphMessages messages={data.messages}/>\n          <div style={{display:'flex', paddingTop:'3rem', alignItems:'center'}}>\n            <div style={{width:'50%', padding:'1rem'}}>\n              <BasicMessagingStats messages={data.messages}/>\n            </div>\n            <div style={{width:'50%', padding:'1rem'}}>\n              <TimeHeatMap messages={data.messages}/>\n            </div>\n          </div>\n          <WordUsage messages={data.messages}/>\n\n\n          </>\n        ):(<></>)}\n      </div>\n    </div>\n  )\n}\n\nfunction BasicMessagingStats ({messages}){\n  messages = messages.sort((a,b)=>{if(a.timestamp_ms < b.timestamp_ms) return -1; return 1;});\n  let data = [];\n  const averageMessagesPerDay = Math.ceil(messages.length/((messages[messages.length-1].timestamp_ms-messages[0].timestamp_ms)/86400000))\n  const amountOfTimeTalking = moment.duration(moment(messages[messages.length-1].timestamp_ms).diff(moment(messages[0].timestamp_ms))).humanize();\n  const amountCalled = messages.filter(o=>o.type==='Call').length;\n  const spentTaling = moment.duration(moment(messages.filter(o=>o.type==='Call').reduce((a, b) => a + b.call_duration, 0)*1000).diff(moment(0))).humanize();\n  const averageCallDuration = moment.duration(moment(messages.filter(o=>o.type==='Call').reduce((a, b) => a + b.call_duration, 0)*1000/amountCalled).diff(moment(0))).humanize();\n  const longestCall = moment.duration(moment(Math.max(...messages.filter(o=>o.type==='Call').map(o=>o.call_duration))*1000).diff(moment(0))).humanize();\n  return (<div style={{fontSize:'2rem', fontWeight:'300'}}>\n    You have spent <span style={{color:'#EF709D'}}>{amountOfTimeTalking}</span> interacting with each other, sharing an average of about <span style={{color:'#EF709D'}}>{averageMessagesPerDay}</span> interactions a day\n    <br/>\n    <br/>\n    {messages.find(o=>o.type==='Call')?(<>You have called each other <span style={{color:'#EF709D'}}>{amountCalled}</span> times, averaging <span style={{color:'#EF709D'}}>{averageCallDuration}</span> each time and about <span style={{color:'#EF709D'}}>{spentTaling}</span> in total\n    <br/>One time you spoke for <span style={{color:'#EF709D'}}>{longestCall}</span></>\n\n  ):(<>You have never called each other</>)}\n  </div>)\n}\n","import {useState, useEffect, useRef} from 'react';\n\nconst importData = ({files, setCount, addThreadRaw, setTotal}) =>{\n  let filtered = [...files].filter(o => o.name.endsWith('.json')).filter(o=>o.name.startsWith('message_'))\n  setTotal(filtered.length);\n  filtered.forEach((file,key)=>{\n    let reader = new FileReader();\n    reader.onload = async (event)=>{\n      setTimeout(()=>{\n        let data = reader.result;\n        let json = JSON.parse(data);\n        addThreadRaw(json);\n        setCount(key+1);\n      },10)\n\n    }\n    reader.readAsText(file)\n  })\n}\nexport default function LandingPage({setAllMessages}){\n  const [hoverRef, isHovered] = useHover();\n  const [count, setCount] = useState(0);\n  const [total, setTotal] = useState(0);\n  const [threads, addThread] = useState([]);\n  let rawThreads = [];\n  const addThreadRaw = (thread) =>{ //like a reducer to not have reflows\n    addThread(threads=>[...threads, thread]);\n  }\n\n  useEffect(()=>{\n    if(count===total){\n      for(let i=0; i<threads.length;i++){\n        let thread = threads[i];\n        let mergerThreadIndex = threads.findIndex((o, key)=>o.thread_path === thread.thread_path && key!==i)\n        if(mergerThreadIndex&&mergerThreadIndex!==-1){\n          threads[mergerThreadIndex] = {...threads[mergerThreadIndex], messages:[...threads[mergerThreadIndex].messages, ...thread.messages]}\n          threads.splice(i, 1);\n          i=i-1;\n        }\n      }\n      setAllMessages(threads);\n    }\n  },[count, total, threads])\n  return (\n    <div style={{backgroundColor:'#50C9CE', color:'white', display:'flex', flexDirection:'column', alignItems:'center', justifyContent:'space-around', minHeight:'100vh'}}>\n      <div style={{textAlign:'center', maxWidth:'50%'}}>\n        <h1 style={{fontWeight:'300', padding:'3rem 3rem 1rem 3rem'}}>Hello, and Welcome to <span style={{color:'#EF709D'}}>Facebook Messenger Viz</span></h1>\n\n          <h4 style={{fontWeight:'300', }}>This site takes all of your past information, crunches it and provides some interesting stats. Don't worry -- it's safe and secure. Everything is run on your computer, and I never store anything related to you. You can check my opensource code if you want to make sure, or ask your grandson if he thinks its safe.</h4>\n\n      </div>\n\n      <div style={{ maxWidth:'50%', paddingBottom:'8rem', alignItems:'center', flexDirection:'column',display:'flex'}}>\n        <h2 style={{textAlign:'center'}}>Let's get started!</h2>\n        <h3 style={{fontWeight:'300', padding:'0rem 0rem 4rem 0rem'}}>\n          <ol>\n            <li>Download Facebook Data: Go to <a target=\"_blank\" href='https://www.facebook.com/dyi/'>https://www.facebook.com/dyi/</a></li>\n            <li>Select: DateRange: All time, Format: JSON, Media Quality: High</li>\n            <li>Select the Deselect all button</li>\n            <li>Click only on messages</li>\n            <li>Hit the Create File button</li>\n            <li>Wait a day or two</li>\n            <li>Return to <a target=\"_blank\" href='https://www.facebook.com/dyi/'>https://www.facebook.com/dyi/</a> and download</li>\n            <li>Unzip the file: It will be a single zip with two zips inside of it.</li>\n            <li>Unzip the second zip (doesn't have photos in the photos folder)</li>\n            <li>Upload the messages folder below!</li>\n          </ol>\n        </h3>\n        <div>\n          <label for=\"file\" style={{cursor:'pointer', color:'white', backgroundColor:isHovered?('grey'):('#EF709D'), padding:'1rem', fontWeight:'200', transition:'250ms'}} ref={hoverRef}>Upload</label>\n          <input id=\"file\" type=\"file\" name=\"file\" style={{display:'none'}}onChange={(event)=>{importData({files:event.target.files, setCount, addThreadRaw, setTotal})}} directory=\"\" webkitdirectory=\"\"/>\n\n        </div>\n        <div>\n        {total!==0&&\n          <h2 style={{textAlign:'center', fontWeight:'300', padding:'2rem'}}>\n            <span style={{color:'#EF709D'}}>{count}</span> / {total}\n          </h2>\n        }\n        </div>\n      </div>\n\n    </div>\n  )\n}\nfunction useHover() {\n  const [value, setValue] = useState(false);\n\n  const ref = useRef(null);\n\n  const handleMouseOver = () => setValue(true);\n  const handleMouseOut = () => setValue(false);\n\n  useEffect(\n    () => {\n      const node = ref.current;\n      if (node) {\n        node.addEventListener('mouseover', handleMouseOver);\n        node.addEventListener('mouseout', handleMouseOut);\n\n        return () => {\n          node.removeEventListener('mouseover', handleMouseOver);\n          node.removeEventListener('mouseout', handleMouseOut);\n        };\n      }\n    },\n    [ref.current] // Recall only if ref changes\n  );\n\n  return [ref, value];\n}\n","import {useState, useEffect, useRef} from 'react';\nexport default function Card ({title,messageSplit,count, id, onClick}){\n  const [hoverRef, isHovered] = useHover();\n  return (\n    <div\n      ref={hoverRef}\n      style={{backgroundColor: isHovered?('rgb(152 131 229 / 69%)'):('#9883E5'), width:'10rem', margin:'1rem', padding:'1rem', color:'white', display:'flex', justifyContent:'space-between',  flexDirection:'column', cursor:'pointer', transition:'250ms'}}\n      onClick={onClick}\n      >\n    <div>\n      <h3>{title}</h3>\n      <div style={{paddingTop:'1rem'}}>\n        <p>Total messages:</p>\n        <h2 style={{fontWeight:'100', padding:'1rem', textAlign:'center'}}>{count}</h2>\n      </div>\n    </div>\n    <GenerateMessageSplitVisual messageSplit={messageSplit} count={count}/>\n  </div>)\n}\n\nconst GenerateMessageSplitVisual = ({messageSplit, count}) =>{\n  const [open, setOpen] = useState(false);\n  let width = 6;\n  let divider = count/width;\n  return(\n    <div style={{height: open?('100%'):('5rem'), overflowY:'auto'}}>\n      {Object.keys(messageSplit).sort((a,b)=>{if(messageSplit[a] > messageSplit[b]){return -1} return 1}).map(o=>\n        <div style={{display:'flex', alignItems:'center', justifyContent:'space-between', margin:'.25rem'}}>\n          <div style={{width:`${messageSplit[o]/divider}rem`, backgroundColor:'#50C9CE', height:'1.25rem'}} >\n          </div>\n          <div style={{fontSize:'.75rem'}}>{o}</div>\n        </div>\n      )}\n    </div>\n  )\n}\n\nfunction useHover() {\n  const [value, setValue] = useState(false);\n\n  const ref = useRef(null);\n\n  const handleMouseOver = () => setValue(true);\n  const handleMouseOut = () => setValue(false);\n\n  useEffect(\n    () => {\n      const node = ref.current;\n      if (node) {\n        node.addEventListener('mouseover', handleMouseOver);\n        node.addEventListener('mouseout', handleMouseOut);\n\n        return () => {\n          node.removeEventListener('mouseover', handleMouseOver);\n          node.removeEventListener('mouseout', handleMouseOut);\n        };\n      }\n    },\n    [ref.current] // Recall only if ref changes\n  );\n\n  return [ref, value];\n}\n","import {useState, useEffect, useRef} from 'react';\nimport InfiniteScroll from 'react-infinite-scroller';\nimport MoreDataElement from './MoreDataElement';\nimport LandingPage from './LandingPage.js';\nimport Card from './Card.js';\n\nexport default function App() {\n  const [allMessages, setAllMessages] = useState([])\n  const [moreData, setMoreData] = useState(false);\n  const [filteredBasicData, setFilteredBasicData] = useState([]);\n  const [filters, setFilters] = useState({sortBy: {count:true}, filterBy:'', items:10})\n  const [scrolled, setScrolled] = useState(false);\n  const divRef = useRef(null);\n\n  useEffect(()=>{\n    let newData = allMessages.map(data=>{\n      let messageSplit = {};\n      data.messages.forEach(o=>{messageSplit[o.sender_name]=messageSplit[o.sender_name]+1|| 1})\n      return {\n        ...data,\n        count: data.messages.length,\n        messageSplit,\n      }\n    })\n    let sorted = newData.sort((a,b)=>{\n      if(filters.sortBy.count){\n        if(a.count > b.count) return -1;\n        return 1;\n      }else{\n        return 0;\n      }\n    })\n    let filtered = sorted.filter(o=>o?.title?.toLowerCase()?.includes(filters.filterBy.toLowerCase()))\n    setFilters({...filters, items:10})\n    setFilteredBasicData(filtered)\n\n\n    if(!scrolled && filtered.length>0){\n      setScrolled(true)\n      divRef.current.scrollIntoView({ behavior: 'smooth' });\n    }\n\n  }, [allMessages, filters.sortBy, filters.filterBy])\n\n  return (\n    <>\n      <LandingPage setAllMessages={setAllMessages}/>\n\n      {allMessages&&\n        <div style={{display:'flex'}}>\n          <div style={{width:'50%', height:'100vh'}} ref={divRef}>\n            <div style={{ padding:'2rem', height:'90%'}}>\n              <input\n                style={{border: '#EF709D', borderWidth: '1px', borderStyle: 'solid', height: '1.5rem', paddingLeft: '1rem', borderRadius: '1rem'}}\n                type=\"text\"\n                name=\"search\"\n                value={filters.filterBy}\n                onChange={(event)=>{setFilters({...filters, filterBy:event.target.value})}}\n              />\n              <div style={{overflowY:'auto', height:'100%'}}>\n                <InfiniteScroll\n                  pageStart={0}\n                  loadMore={()=>{setFilters({...filters, items:filters.items+10})}}\n                  hasMore={filters.items<filteredBasicData.length}\n                  loader={<></>}\n                  style={{display:'flex', flexWrap: 'wrap'}}\n                  useWindow={false}\n                >\n                {filteredBasicData.slice(0, filters.items).map((data, key)=>\n                <Card {...data} key={key} onClick={()=>setMoreData(filteredBasicData[key])}/>\n                )}\n                </InfiniteScroll>\n              </div>\n            </div>\n            <div style={{textAlign:'center'}}>Made with ❤️ by <a href='http://www.lucolsthoorn.com'>Luc Olsthoorn</a></div>\n          </div>\n          {!!moreData?(<MoreDataElement data={moreData} close={()=>{setMoreData(false)}}/>):(<></>)}\n        </div>\n      }\n    </>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}