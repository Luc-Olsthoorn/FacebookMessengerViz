(this.webpackJsonpFacebookMessengerViz=this.webpackJsonpFacebookMessengerViz||[]).push([[0],{362:function(e,t,n){},363:function(e,t,n){"use strict";n.r(t);var r=n(2),s=n(1),o=n.n(s),a=n(55),i=n.n(a),c=n(9),l=n(7),u=n(40),d=n.n(u),h=n(22),m=n(135),j=n(12),b=n(10),f=n.n(b),O=["#72a1e5","#eca400","#2e382e","#9883e5","#fcd3de","#f038ff","#ef709d","#e2ef70","#49111c"],g={Month:2592e6,Week:6048e5};function x(e){var t=e.messages,n=Object(s.useState)([]),o=Object(l.a)(n,2),a=o[0],i=o[1],u=Object(s.useState)([]),d=Object(l.a)(u,2),h=d[0],b=d[1],x=Object(s.useState)("Month"),y=Object(l.a)(x,2),p=y[0];y[1];return Object(s.useEffect)((function(){var e=function(e){var t,n=e.messages,r=e.timeInterval,s=[],o=(n=n.sort((function(e,t){return e.timestamp_ms<t.timestamp_ms?-1:1})))[0].timestamp_ms,a={},i={},l=Object(m.a)(n);try{for(l.s();!(t=l.n()).done;){var u=t.value;a[o]=a[o]||{},a[o].name=f()(o).format("MMM YYYY"),u.timestamp_ms<Number(o)+Number(r)?(a[o][u.sender_name]=a[o][u.sender_name]+1||1,i[u.sender_name]=0):(s.push(Object(c.a)(Object(c.a)({},i),a[o])),o+=r)}}catch(h){l.e(h)}finally{l.f()}s.push(Object(c.a)(Object(c.a)({},i),a[o]));var d=Object.keys(i);return console.log(s),{data:s,peopleList:d}}({messages:t,timeInterval:g[p]}),n=e.peopleList,r=e.data;b(n),i(r)}),[t]),Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{style:{fontWeight:"300"},children:"Interactions over time:"}),Object(r.jsx)(j.f,{width:"95%",height:400,children:Object(r.jsxs)(j.e,{style:{padding:"1rem",fontWeight:"300"},data:a,syncId:"main",margin:{top:5,right:30,left:20,bottom:5},children:[Object(r.jsx)(j.b,{strokeDasharray:"3 3",stroke:"white"}),Object(r.jsx)(j.i,{dataKey:"name",stroke:"white"}),Object(r.jsx)(j.j,{stroke:"white",label:Object(r.jsx)(j.g,{stroke:"white",style:{color:"white"},x:0,y:0,dx:20,dy:230,offset:0,angle:-90,children:"# of interactions per month"})}),Object(r.jsx)(j.h,{contentStyle:{backgroundColor:"white",color:"black"},cursor:{stroke:"white",strokeWidth:2},animationDuration:30}),Object(r.jsx)(j.c,{}),Object(r.jsx)(j.a,{dataKey:"name",data:a,fill:"#50C9CE",stroke:"white",margin:{top:5,right:30,left:30,bottom:5},children:Object(r.jsx)(j.e,{children:h.map((function(e,t){return Object(r.jsx)(j.d,{type:"monotone",dataKey:e,strokeWidth:1,dot:!1,activeDot:!1,stroke:O[t]||"black"})}))})}),h.map((function(e,t){return Object(r.jsx)(j.d,{type:"monotone",dataKey:e,strokeWidth:2,dot:!1,activeDot:!1,stroke:O[t]||"black"})}))]})})]})}function y(e){var t=e.messages,n={},s=0;t.forEach((function(e){var t=f()(e.timestamp_ms),r=t.day(),o=t.hour();n[r]=n[r]||{},n[r][o]=n[r][o]+1||1,n[r][o]>s&&(s=n[r][o])}));var o=[{num:0,text:"S"},{num:1,text:"M"},{num:2,text:"T"},{num:3,text:"W"},{num:4,text:"T"},{num:5,text:"F"},{num:6,text:"S"}];return Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{style:{fontWeight:"300"},children:"Heatmap of Interactions"}),Object(r.jsxs)("table",{children:[Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{}),o.map((function(e){return Object(r.jsx)("td",{style:{textAlign:"center"},children:e.text})}))]}),[{num:0,text:"12:00 a.m."},{num:1,text:"1:00 a.m."},{num:2,text:"2:00 a.m."},{num:3,text:"3:00 a.m."},{num:4,text:"4:00 a.m."},{num:5,text:"5:00 a.m."},{num:6,text:"6:00 a.m."},{num:7,text:"7:00 a.m."},{num:8,text:"8:00 a.m."},{num:9,text:"9:00 a.m."},{num:10,text:"10:00 a.m."},{num:11,text:"11:00 a.m."},{num:12,text:"12:00 p.m."},{num:13,text:"1:00 p.m."},{num:14,text:"2:00 p.m."},{num:15,text:"3:00 p.m."},{num:16,text:"4:00 p.m."},{num:17,text:"5:00 p.m."},{num:18,text:"6:00 p.m."},{num:19,text:"7:00 p.m."},{num:20,text:"8:00 p.m."},{num:21,text:"9:00 p.m."},{num:22,text:"10:00 p.m."},{num:23,text:"11:00 p.m."}].map((function(e){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:e.text}),o.map((function(t){var o=0;return n[t.num]&&n[t.num][e.num]&&(o=n[t.num][e.num]),Object(r.jsx)("td",{style:{backgroundColor:"rgba(239, 112, 157, ".concat(o/s,")"),padding:".5rem 1rem .5rem 1rem"}})}))]})}))]})]})}var p=n(145),v=n.n(p),w=/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|\ud83c[\ude32-\ude3a]|\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g,k=["a","about","above","above","across","after","afterwards","again","against","all","almost","alone","along","already","also","although","always","am","among","amongst","amoungst","amount","an","and","another","any","anyhow","anyone","anything","anyway","anywhere","are","around","as","at","back","be","became","because","become","becomes","becoming","been","before","beforehand","behind","being","below","beside","besides","between","beyond","bill","both","bottom","but","by","call","can","cannot","cant","co","con","could","couldnt","cry","de","describe","detail","do","done","down","due","during","each","eg","eight","either","eleven","else","elsewhere","empty","enough","etc","even","ever","every","everyone","everything","everywhere","except","few","fifteen","fify","fill","find","fire","first","five","for","former","formerly","forty","found","four","from","front","full","further","get","give","go","had","has","hasnt","have","he","hence","her","here","hereafter","hereby","herein","hereupon","hers","herself","him","himself","his","how","however","hundred","ie","if","in","inc","indeed","interest","into","is","it","its","itself","keep","last","latter","latterly","least","less","ltd","made","many","may","me","meanwhile","might","mill","mine","more","moreover","most","mostly","move","much","must","my","myself","name","namely","neither","never","nevertheless","next","nine","no","nobody","none","noone","nor","not","nothing","now","nowhere","of","off","often","on","once","one","only","onto","or","other","others","otherwise","our","ours","ourselves","out","over","own","part","per","perhaps","please","put","rather","re","same","see","seem","seemed","seeming","seems","serious","several","she","should","show","side","since","sincere","six","sixty","so","some","somehow","someone","something","sometime","sometimes","somewhere","still","such","system","take","ten","than","that","the","their","them","themselves","then","thence","there","thereafter","thereby","therefore","therein","thereupon","these","they","thick","thin","third","this","those","though","three","through","throughout","thru","thus","to","together","too","top","toward","towards","twelve","twenty","two","un","under","until","up","upon","us","very","via","was","we","well","were","what","whatever","when","whence","whenever","where","whereafter","whereas","whereby","wherein","whereupon","wherever","whether","which","while","whither","who","whoever","whole","whom","whose","why","will","with","within","without","would","yet","you","your","yours","yourself","yourselves","the","i","me","my","myself","we","our","ours","ourselves","you","your","yours","yourself","yourselves","he","him","his","himself","she","her","hers","herself","it","its","itself","they","them","their","theirs","themselves","what","which","who","whom","this","that","these","those","am","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","a","an","the","and","but","if","or","because","as","until","while","of","at","by","for","with","about","against","between","into","through","during","before","after","above","below","to","from","up","down","in","out","on","off","over","under","again","further","then","once","here","there","when","where","why","how","all","any","both","each","few","more","most","other","some","such","no","nor","not","only","own","same","so","than","too","very","s","t","can","will","just","don","should","now","it's","u"];function E(e){var t=e.messages,n=Object(s.useState)(0),o=Object(l.a)(n,2),a=o[0],i=o[1],c=Object(s.useState)([]),u=Object(l.a)(c,2),h=u[0],m=u[1],j=Object(s.useState)([]),b=Object(l.a)(j,2),f=b[0],O=b[1],g=Object(s.useState)(10),x=Object(l.a)(g,2),y=x[0],p=x[1],E=Object(s.useState)(10),S=Object(l.a)(E,2),W=S[0],C=S[1];return Object(s.useEffect)((function(){setTimeout((function(){var e=function(e){var t=e.messages,n=0,r={};t.forEach((function(e){var t,s;null===(t=e.content)||void 0===t||t.length;var o=(null===(s=e.content)||void 0===s?void 0:s.split(" "))||[];n+=o.length,o.forEach((function(e){var t=e.toLowerCase().replace(".","").replace(",","").replace("?","");t&&(r[t]=r[t]+1||1)}))}));var s=Object.entries(r);s.sort((function(e,t){var n=Object(l.a)(e,2),r=(n[0],n[1]),s=Object(l.a)(t,2);return s[0],r>s[1]?-1:1}));var o=[];return s.forEach((function(e){var t=Object(l.a)(e,2),n=t[0],r=t[1],s=n;try{s=v.a.decode(n)}catch(a){}s.match(w)&&o.push([s,r])})),s=s.filter((function(e){var t=Object(l.a)(e,2),n=t[0];return t[1],!k.includes(n)})),console.log(s),{totalWords:n,wordList:s,emojiList:o}}({messages:t}),n=e.totalWords,r=e.wordList,s=e.emojiList;m(r),i(n),O(s)}),200)}),[t]),Object(r.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(r.jsxs)("div",{style:{width:"50%",padding:"1rem"},children:[Object(r.jsx)("h3",{style:{fontWeight:"300"},children:"Here are your most popular words:"}),Object(r.jsx)("div",{style:{height:"200px",width:"100%",overflowY:"auto",overFlowX:"hidden",margin:"1rem",maxWidth:"400px"},children:Object(r.jsx)(d.a,{pageStart:0,loadMore:function(){p(y+10)},hasMore:y<h.length,loader:Object(r.jsx)("div",{className:"loader",children:"Loading ..."},0),useWindow:!1,children:h.slice(0,y).map((function(e,t){var n=Object(l.a)(e,2),s=n[0],o=n[1];return Object(r.jsxs)("div",{style:{fontSize:"1.25rem"},children:[t+1,". ",Object(r.jsx)("span",{style:{color:"#EF709D"},children:s}),", ",Object(r.jsxs)("span",{style:{fontWeight:"200"},children:[o," times"]})]})}))})}),Object(r.jsx)("h3",{style:{fontWeight:"300"},children:"Here are your most popular emojis:"}),Object(r.jsx)("div",{style:{height:"200px",width:"100%",overflowY:"auto",overFlowX:"hidden",margin:"1rem",maxWidth:"400px"},children:Object(r.jsx)(d.a,{pageStart:0,loadMore:function(){C(W+10)},hasMore:W<f.length,loader:Object(r.jsx)("div",{className:"loader",children:"Loading ..."},0),useWindow:!1,children:f.slice(0,W).map((function(e,t){var n=Object(l.a)(e,2),s=n[0],o=n[1];return Object(r.jsxs)("div",{style:{fontSize:"1.25rem"},children:[t+1,". ",s,", ",Object(r.jsxs)("span",{style:{fontWeight:"200"},children:[o," times"]})]})}))})})]}),Object(r.jsxs)("div",{style:{width:"50%",padding:"1rem"},children:[Object(r.jsx)("h3",{style:{fontWeight:"300"},children:"Word usage:"}),Object(r.jsxs)("div",{style:{fontSize:"2rem",fontWeight:"300"},children:["You have said ",Object(r.jsx)("span",{style:{color:"#EF709D"},children:a})," words to each other. Each message has an average length of ",Object(r.jsx)("span",{style:{color:"#EF709D"},children:Math.ceil(a/t.length)})," words."]})]})]})}function S(e){var t=e.data;return Object(r.jsx)("div",{style:{width:"50%",backgroundColor:"#50C9CE",color:"white",height:"100vh",overflowY:"auto"},children:Object(r.jsxs)("div",{style:{padding:"2rem"},children:[Object(r.jsxs)("h1",{style:{padding:"1rem",fontWeight:"100",textAlign:"center",fontSize:"3rem"},children:["Stats for ",t.title,":"]}),Object(r.jsx)("hr",{style:{borderTop:"1px solid white"}}),(null===t||void 0===t?void 0:t.messages)?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(x,{messages:t.messages}),Object(r.jsxs)("div",{style:{display:"flex",paddingTop:"3rem",alignItems:"center"},children:[Object(r.jsx)("div",{style:{width:"50%",padding:"1rem"},children:Object(r.jsx)(W,{messages:t.messages})}),Object(r.jsx)("div",{style:{width:"50%",padding:"1rem"},children:Object(r.jsx)(y,{messages:t.messages})})]}),Object(r.jsx)(E,{messages:t.messages})]}):Object(r.jsx)(r.Fragment,{})]})})}function W(e){var t=e.messages;t=t.sort((function(e,t){return e.timestamp_ms<t.timestamp_ms?-1:1}));var n=Math.ceil(t.length/((t[t.length-1].timestamp_ms-t[0].timestamp_ms)/864e5)),s=f.a.duration(f()(t[t.length-1].timestamp_ms).diff(f()(t[0].timestamp_ms))).humanize(),o=t.filter((function(e){return"Call"===e.type})).length,a=f.a.duration(f()(1e3*t.filter((function(e){return"Call"===e.type})).reduce((function(e,t){return e+t.call_duration}),0)).diff(f()(0))).humanize(),i=f.a.duration(f()(1e3*t.filter((function(e){return"Call"===e.type})).reduce((function(e,t){return e+t.call_duration}),0)/o).diff(f()(0))).humanize(),c=f.a.duration(f()(1e3*Math.max.apply(Math,Object(h.a)(t.filter((function(e){return"Call"===e.type})).map((function(e){return e.call_duration}))))).diff(f()(0))).humanize();return Object(r.jsxs)("div",{style:{fontSize:"2rem",fontWeight:"300"},children:["You have spent ",Object(r.jsx)("span",{style:{color:"#EF709D"},children:s})," interacting with each other, sharing an average of about ",Object(r.jsx)("span",{style:{color:"#EF709D"},children:n})," interactions a day",Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),t.find((function(e){return"Call"===e.type}))?Object(r.jsxs)(r.Fragment,{children:["You have called each other ",Object(r.jsx)("span",{style:{color:"#EF709D"},children:o})," times, averaging ",Object(r.jsx)("span",{style:{color:"#EF709D"},children:i})," each time and about ",Object(r.jsx)("span",{style:{color:"#EF709D"},children:a})," in total",Object(r.jsx)("br",{}),"One time you spoke for ",Object(r.jsx)("span",{style:{color:"#EF709D"},children:c})]}):Object(r.jsx)(r.Fragment,{children:"You have never called each other"})]})}var C=n(87),F=n.n(C),D=n(146);function M(e){var t=e.setAllMessages,n=function(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],o=Object(s.useRef)(null),a=function(){return r(!0)},i=function(){return r(!1)};return Object(s.useEffect)((function(){var e=o.current;if(e)return e.addEventListener("mouseover",a),e.addEventListener("mouseout",i),function(){e.removeEventListener("mouseover",a),e.removeEventListener("mouseout",i)}}),[o.current]),[o,n]}(),o=Object(l.a)(n,2),a=o[0],i=o[1],u=Object(s.useState)(0),d=Object(l.a)(u,2),m=d[0],j=d[1],b=Object(s.useState)(0),f=Object(l.a)(b,2),O=f[0],g=f[1],x=Object(s.useState)([]),y=Object(l.a)(x,2),p=y[0],v=y[1],w=function(e){v((function(t){return[].concat(Object(h.a)(t),[e])}))};return Object(s.useEffect)((function(){if(m===O){for(var e=function(e){var t=p[e],r=p.findIndex((function(n,r){return n.thread_path===t.thread_path&&r!==e}));r&&-1!==r&&(p[r]=Object(c.a)(Object(c.a)({},p[r]),{},{messages:[].concat(Object(h.a)(p[r].messages),Object(h.a)(t.messages))}),p.splice(e,1),e-=1),n=e},n=0;n<p.length;n++)e(n);t(p)}}),[m,O,p]),Object(r.jsxs)("div",{style:{backgroundColor:"#50C9CE",color:"white",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around",minHeight:"100vh"},children:[Object(r.jsxs)("div",{style:{textAlign:"center",maxWidth:"50%"},children:[Object(r.jsxs)("h1",{style:{fontWeight:"300",padding:"3rem 3rem 1rem 3rem"},children:["Hello, and Welcome to ",Object(r.jsx)("span",{style:{color:"#EF709D"},children:"Facebook Messenger Viz"})]}),Object(r.jsx)("h4",{style:{fontWeight:"300"},children:"This site takes all of your past information, crunches it and provides some interesting stats. Don't worry -- it's safe and secure. Everything is run on your computer, and I never store anything related to you. You can check my opensource code if you want to make sure, or ask your grandson if he thinks its safe."})]}),Object(r.jsxs)("div",{style:{maxWidth:"50%",paddingBottom:"8rem",alignItems:"center",flexDirection:"column",display:"flex"},children:[Object(r.jsx)("h2",{style:{textAlign:"center"},children:"Let's get started!"}),Object(r.jsx)("h3",{style:{fontWeight:"300",padding:"0rem 0rem 4rem 0rem"},children:Object(r.jsxs)("ol",{children:[Object(r.jsxs)("li",{children:["Download Facebook Data: Go to ",Object(r.jsx)("a",{target:"_blank",href:"https://www.facebook.com/dyi/",children:"https://www.facebook.com/dyi/"})]}),Object(r.jsx)("li",{children:"Select: DateRange: All time, Format: JSON, Media Quality: High"}),Object(r.jsx)("li",{children:"Select the Deselect all button"}),Object(r.jsx)("li",{children:"Click only on messages"}),Object(r.jsx)("li",{children:"Hit the Create File button"}),Object(r.jsx)("li",{children:"Wait a day or two"}),Object(r.jsxs)("li",{children:["Return to ",Object(r.jsx)("a",{target:"_blank",href:"https://www.facebook.com/dyi/",children:"https://www.facebook.com/dyi/"})," and download"]}),Object(r.jsx)("li",{children:"Unzip the file: It will be a single zip with two zips inside of it."}),Object(r.jsx)("li",{children:"Unzip the second zip (doesn't have photos in the photos folder)"}),Object(r.jsx)("li",{children:"Upload the messages folder below!"})]})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{for:"file",style:{cursor:"pointer",color:"white",backgroundColor:i?"grey":"#EF709D",padding:"1rem",fontWeight:"200",transition:"250ms"},ref:a,children:"Upload"}),Object(r.jsx)("input",{id:"file",type:"file",name:"file",style:{display:"none"},onChange:function(e){!function(e){var t=e.files,n=e.setCount,r=e.addThreadRaw,s=e.setTotal,o=Object(h.a)(t).filter((function(e){return e.name.endsWith(".json")})).filter((function(e){return e.name.startsWith("message_")}));s(o.length),o.forEach((function(e,t){var s=new FileReader;s.onload=function(){var e=Object(D.a)(F.a.mark((function e(o){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){var e=s.result,o=JSON.parse(e);r(o),n(t+1)}),10);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.readAsText(e)}))}({files:e.target.files,setCount:j,addThreadRaw:w,setTotal:g})},directory:"",webkitdirectory:""})]}),Object(r.jsx)("div",{children:0!==O&&Object(r.jsxs)("h2",{style:{textAlign:"center",fontWeight:"300",padding:"2rem"},children:[Object(r.jsx)("span",{style:{color:"#EF709D"},children:m})," / ",O]})})]})]})}function _(e){var t=e.title,n=e.messageSplit,o=e.count,a=(e.id,e.onClick),i=function(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],o=Object(s.useRef)(null),a=function(){return r(!0)},i=function(){return r(!1)};return Object(s.useEffect)((function(){var e=o.current;if(e)return e.addEventListener("mouseover",a),e.addEventListener("mouseout",i),function(){e.removeEventListener("mouseover",a),e.removeEventListener("mouseout",i)}}),[o.current]),[o,n]}(),c=Object(l.a)(i,2),u=c[0],d=c[1];return Object(r.jsxs)("div",{ref:u,style:{backgroundColor:d?"rgb(152 131 229 / 69%)":"#9883E5",width:"10rem",margin:"1rem",padding:"1rem",color:"white",display:"flex",justifyContent:"space-between",flexDirection:"column",cursor:"pointer",transition:"250ms"},onClick:a,children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{children:t}),Object(r.jsxs)("div",{style:{paddingTop:"1rem"},children:[Object(r.jsx)("p",{children:"Total messages:"}),Object(r.jsx)("h2",{style:{fontWeight:"100",padding:"1rem",textAlign:"center"},children:o})]})]}),Object(r.jsx)(L,{messageSplit:n,count:o})]})}var L=function(e){var t=e.messageSplit,n=e.count,o=Object(s.useState)(!1),a=Object(l.a)(o,2),i=a[0],c=(a[1],n/6);return Object(r.jsx)("div",{style:{height:i?"100%":"5rem",overflowY:"auto"},children:Object.keys(t).sort((function(e,n){return t[e]>t[n]?-1:1})).map((function(e){return Object(r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",margin:".25rem"},children:[Object(r.jsx)("div",{style:{width:"".concat(t[e]/c,"rem"),backgroundColor:"#50C9CE",height:"1.25rem"}}),Object(r.jsx)("div",{style:{fontSize:".75rem"},children:e})]})}))})};function z(){var e=Object(s.useState)([]),t=Object(l.a)(e,2),n=t[0],o=t[1],a=Object(s.useState)(!1),i=Object(l.a)(a,2),u=i[0],h=i[1],m=Object(s.useState)([]),j=Object(l.a)(m,2),b=j[0],f=j[1],O=Object(s.useState)({sortBy:{count:!0},filterBy:"",items:10}),g=Object(l.a)(O,2),x=g[0],y=g[1],p=Object(s.useState)(!1),v=Object(l.a)(p,2),w=v[0],k=v[1],E=Object(s.useRef)(null);return Object(s.useEffect)((function(){var e=n.map((function(e){var t={};return e.messages.forEach((function(e){t[e.sender_name]=t[e.sender_name]+1||1})),Object(c.a)(Object(c.a)({},e),{},{count:e.messages.length,messageSplit:t})})).sort((function(e,t){return x.sortBy.count?e.count>t.count?-1:1:0})).filter((function(e){var t,n;return null===e||void 0===e||null===(t=e.title)||void 0===t||null===(n=t.toLowerCase())||void 0===n?void 0:n.includes(x.filterBy.toLowerCase())}));y(Object(c.a)(Object(c.a)({},x),{},{items:10})),f(e),!w&&e.length>0&&(k(!0),E.current.scrollIntoView({behavior:"smooth"}))}),[n,x.sortBy,x.filterBy]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(M,{setAllMessages:o}),n&&Object(r.jsxs)("div",{style:{display:"flex"},children:[Object(r.jsxs)("div",{style:{width:"50%",height:"100vh"},ref:E,children:[Object(r.jsxs)("div",{style:{padding:"2rem",height:"90%"},children:[Object(r.jsx)("input",{style:{border:"#EF709D",borderWidth:"1px",borderStyle:"solid",height:"1.5rem",paddingLeft:"1rem",borderRadius:"1rem"},type:"text",name:"search",value:x.filterBy,onChange:function(e){y(Object(c.a)(Object(c.a)({},x),{},{filterBy:e.target.value}))}}),Object(r.jsx)("div",{style:{overflowY:"auto",height:"100%"},children:Object(r.jsx)(d.a,{pageStart:0,loadMore:function(){y(Object(c.a)(Object(c.a)({},x),{},{items:x.items+10}))},hasMore:x.items<b.length,loader:Object(r.jsx)(r.Fragment,{}),style:{display:"flex",flexWrap:"wrap"},useWindow:!1,children:b.slice(0,x.items).map((function(e,t){return Object(s.createElement)(_,Object(c.a)(Object(c.a)({},e),{},{key:t,onClick:function(){return h(b[t])}}))}))})})]}),Object(r.jsxs)("div",{style:{textAlign:"center"},children:["Made with \u2764\ufe0f by ",Object(r.jsx)("a",{href:"https://www.lucolsthoorn.com",children:"Luc Olsthoorn"})]})]}),u?Object(r.jsx)(S,{data:u,close:function(){h(!1)}}):Object(r.jsx)(r.Fragment,{})]})]})}n(362);i.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(z,{})}),document.getElementById("root"))}},[[363,1,2]]]);
//# sourceMappingURL=main.a57d11e2.chunk.js.map